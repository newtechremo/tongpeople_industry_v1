# 통패스 근로자 앱 개발 로드맵

## 개발 현황 요약

| Phase | 상태 | 설명 |
|:-----:|:----:|------|
| Phase 0 | ✅ 완료 | 프로젝트 초기 설정 |
| Phase 1 | ✅ 완료 | UI/UX 구현 |
| Phase 2 | 🚧 진행중 | 백엔드 연동 |
| Phase 3 | ⏳ 예정 | 고급 기능 |
| Phase 4 | ⏳ 예정 | 출시 준비 |

---

## Phase 0: 프로젝트 초기 설정 ✅

> **목표**: 개발 환경 구축 및 프로젝트 구조 설정

### 완료 항목

| # | 작업 | 상태 | 설명 |
|:-:|------|:----:|------|
| 0.1 | React Native 프로젝트 생성 | ✅ | RN 0.74.6 |
| 0.2 | TypeScript 설정 | ✅ | 경로 별칭 (@/) |
| 0.3 | ESLint + Prettier 설정 | ✅ | 코드 품질 관리 |
| 0.4 | 디렉토리 구조 정의 | ✅ | src/ 하위 폴더 구성 |
| 0.5 | 패키지 의존성 설치 | ✅ | 필수 라이브러리 |

---

## Phase 1: UI/UX 구현 ✅

> **목표**: 전체 화면 UI 및 네비게이션 구현

### 1.1 네비게이션 설정 ✅

| # | 작업 | 상태 |
|:-:|------|:----:|
| 1.1.1 | React Navigation 설치 | ✅ |
| 1.1.2 | RootNavigator 구현 | ✅ |
| 1.1.3 | AuthStack 구현 | ✅ |
| 1.1.4 | MainStack 구현 | ✅ |
| 1.1.5 | 네비게이션 타입 정의 | ✅ |

### 1.2 인증 플로우 화면 ✅

| # | 화면 | 상태 | 설명 |
|:-:|------|:----:|------|
| 1.2.1 | CompanyCodeScreen | ✅ | 회사코드 입력 |
| 1.2.2 | PhoneVerifyScreen | ✅ | SMS 인증 |
| 1.2.3 | WorkerInfoScreen | ✅ | 정보 입력 |
| 1.2.4 | TermsScreen | ✅ | 약관 동의 |
| 1.2.5 | SignatureScreen | ✅ | 전자서명 |
| 1.2.6 | WaitingScreen | ✅ | 승인 대기 |

### 1.3 메인 화면 ✅

| # | 화면 | 상태 | 설명 |
|:-:|------|:----:|------|
| 1.3.1 | HomeScreen | ✅ | 출퇴근 버튼, 상태 표시 |

### 1.4 상태 관리 ✅

| # | 작업 | 상태 |
|:-:|------|:----:|
| 1.4.1 | Recoil 설정 | ✅ |
| 1.4.2 | authAtom | ✅ |
| 1.4.3 | userAtom | ✅ |
| 1.4.4 | companyAtom | ✅ |
| 1.4.5 | AsyncStorage 영속화 | ✅ |

### 1.5 유틸리티 ✅

| # | 작업 | 상태 |
|:-:|------|:----:|
| 1.5.1 | validators.ts | ✅ |
| 1.5.2 | format.ts | ✅ |
| 1.5.3 | storage.ts | ✅ |
| 1.5.4 | colors.ts | ✅ |
| 1.5.5 | config.ts | ✅ |

---

## Phase 2: 백엔드 연동 🚧

> **목표**: 실제 API 연동 및 데이터 흐름 완성

### 2.1 API 클라이언트 (완료)

| # | 작업 | 상태 |
|:-:|------|:----:|
| 2.1.1 | Axios 클라이언트 설정 | ✅ |
| 2.1.2 | 요청 인터셉터 (토큰 추가) | ✅ |
| 2.1.3 | 응답 인터셉터 (토큰 갱신) | ✅ |
| 2.1.4 | API 함수 정의 | ✅ |

### 2.2 인증 API 연동 (진행중)

| # | 작업 | 상태 | 우선순위 |
|:-:|------|:----:|:--------:|
| 2.2.1 | 회사코드 검증 API | ⏳ | 높음 |
| 2.2.2 | SMS 인증번호 요청 API | ⏳ | 높음 |
| 2.2.3 | SMS 인증 확인 API | ⏳ | 높음 |
| 2.2.4 | 팀 목록 조회 API | ⏳ | 높음 |
| 2.2.5 | 근로자 등록 API | ⏳ | 높음 |
| 2.2.6 | 토큰 갱신 API | ⏳ | 높음 |

### 2.3 근로자 API 연동

| # | 작업 | 상태 | 우선순위 |
|:-:|------|:----:|:--------:|
| 2.3.1 | 내 정보 조회 API | ⏳ | 높음 |
| 2.3.2 | 출근 API | ⏳ | 높음 |
| 2.3.3 | 퇴근 API | ⏳ | 높음 |

### 2.4 에러 처리

| # | 작업 | 상태 | 우선순위 |
|:-:|------|:----:|:--------:|
| 2.4.1 | API 에러 핸들링 | ⏳ | 높음 |
| 2.4.2 | 네트워크 에러 처리 | ⏳ | 높음 |
| 2.4.3 | Toast 메시지 표시 | ⏳ | 중간 |
| 2.4.4 | 로딩 상태 관리 | ⏳ | 중간 |

### 2.5 데이터 흐름 완성

| # | 작업 | 상태 | 우선순위 |
|:-:|------|:----:|:--------:|
| 2.5.1 | 로그인 후 상태 저장 | ⏳ | 높음 |
| 2.5.2 | 앱 재시작 시 자동 로그인 | ⏳ | 높음 |
| 2.5.3 | 로그아웃 기능 | ⏳ | 중간 |

---

## Phase 3: 고급 기능 ⏳

> **목표**: 사용자 경험 향상 및 추가 기능

### 3.1 추가 화면

| # | 화면 | 상태 | 설명 |
|:-:|------|:----:|------|
| 3.1.1 | 출퇴근 기록 조회 | ⏳ | 히스토리 리스트 |
| 3.1.2 | 프로필 화면 | ⏳ | 내 정보 확인 |
| 3.1.3 | 설정 화면 | ⏳ | 앱 설정 |

### 3.2 푸시 알림

| # | 작업 | 상태 |
|:-:|------|:----:|
| 3.2.1 | FCM 설정 | ⏳ |
| 3.2.2 | 토큰 등록 API | ⏳ |
| 3.2.3 | 알림 수신 처리 | ⏳ |
| 3.2.4 | 알림 클릭 딥링크 | ⏳ |

### 3.3 현장 선택

| # | 작업 | 상태 | 설명 |
|:-:|------|:----:|------|
| 3.3.1 | 현장 선택 화면 | ⏳ | 복수 현장 시 |
| 3.3.2 | 현장 변경 기능 | ⏳ | 설정에서 |

### 3.4 QR 코드 기능

| # | 작업 | 상태 | 설명 |
|:-:|------|:----:|------|
| 3.4.1 | QR 코드 생성 | ⏳ | 출퇴근용 |
| 3.4.2 | 동적 QR (30초 갱신) | ⏳ | 캡처 방지 |

### 3.5 오프라인 지원

| # | 작업 | 상태 |
|:-:|------|:----:|
| 3.5.1 | 네트워크 상태 감지 | ⏳ |
| 3.5.2 | 오프라인 데이터 캐싱 | ⏳ |
| 3.5.3 | 동기화 로직 | ⏳ |

---

## Phase 4: 출시 준비 ⏳

> **목표**: 앱 스토어 출시

### 4.1 테스트

| # | 작업 | 상태 |
|:-:|------|:----:|
| 4.1.1 | 단위 테스트 작성 | ⏳ |
| 4.1.2 | E2E 테스트 (Detox) | ⏳ |
| 4.1.3 | QA 테스트 | ⏳ |
| 4.1.4 | 베타 테스트 | ⏳ |

### 4.2 성능 최적화

| # | 작업 | 상태 |
|:-:|------|:----:|
| 4.2.1 | 번들 사이즈 최적화 | ⏳ |
| 4.2.2 | 이미지 최적화 | ⏳ |
| 4.2.3 | 메모리 누수 점검 | ⏳ |
| 4.2.4 | 렌더링 성능 개선 | ⏳ |

### 4.3 앱 스토어 준비

| # | 작업 | 상태 |
|:-:|------|:----:|
| 4.3.1 | 앱 아이콘 | ⏳ |
| 4.3.2 | 스플래시 스크린 | ⏳ |
| 4.3.3 | 스크린샷 | ⏳ |
| 4.3.4 | 앱 설명 작성 | ⏳ |
| 4.3.5 | 개인정보 처리방침 | ⏳ |

### 4.4 빌드 및 배포

| # | 작업 | 상태 |
|:-:|------|:----:|
| 4.4.1 | iOS 인증서/프로비저닝 | ⏳ |
| 4.4.2 | Android 서명 키 | ⏳ |
| 4.4.3 | iOS 빌드 (Archive) | ⏳ |
| 4.4.4 | Android 빌드 (AAB) | ⏳ |
| 4.4.5 | App Store 제출 | ⏳ |
| 4.4.6 | Play Store 제출 | ⏳ |

---

## 개발 순서 가이드

### 현재 진행해야 할 작업 (Phase 2)

```
1. 백엔드 API 서버 확인
   └── API 엔드포인트 URL
   └── 인증 방식 (JWT)
   └── 요청/응답 형식

2. 환경 변수 설정
   └── .env 파일에 API_BASE_URL 설정

3. 인증 플로우 연동 (순서대로)
   ├── 2.2.1 회사코드 검증
   ├── 2.2.2 SMS 인증번호 요청
   ├── 2.2.3 SMS 인증 확인
   ├── 2.2.4 팀 목록 조회
   └── 2.2.5 근로자 등록

4. 메인 기능 연동
   ├── 2.3.1 내 정보 조회
   ├── 2.3.2 출근 API
   └── 2.3.3 퇴근 API

5. 에러 처리 및 UX 개선
   ├── 2.4.1 API 에러 핸들링
   ├── 2.4.2 네트워크 에러 처리
   └── 2.4.4 로딩 상태 관리
```

### 개발 우선순위

| 우선순위 | 작업 그룹 | 설명 |
|:--------:|----------|------|
| P0 | 인증 API 연동 | 앱 사용의 전제 조건 |
| P1 | 출퇴근 API 연동 | 핵심 기능 |
| P2 | 에러 처리 | 사용자 경험 |
| P3 | 추가 화면 | 부가 기능 |
| P4 | 푸시 알림 | 편의 기능 |
| P5 | 출시 준비 | 스토어 배포 |

---

## 마일스톤

### M1: MVP 완성
- [ ] 회원가입 플로우 완전 동작
- [ ] 출퇴근 기능 동작
- [ ] 기본 에러 처리

### M2: 베타 버전
- [ ] 출퇴근 기록 조회
- [ ] 푸시 알림
- [ ] 오프라인 지원

### M3: 정식 출시
- [ ] 앱 스토어 심사 통과
- [ ] 버그 수정 완료
- [ ] 성능 최적화 완료

---

## 관련 문서

- [프로젝트 개요](./PROJECT-OVERVIEW.md)
- [기술 아키텍처](./ARCHITECTURE.md)
- [API 명세](./API.md)
- [개발 가이드](./DEVELOPMENT.md)

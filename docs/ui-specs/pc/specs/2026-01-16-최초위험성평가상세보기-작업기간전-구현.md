# 최초 위험성평가 상세보기 (작업기간전) - 구현 명세서

> **대상**: PC (admin-web)
> **문서 유형**: 구현 명세서
> **기준 문서**: docs/ui-specs/pc/plans/2026-01-16-최초위험성평가상세보기-작업기간중-기획.md

---

## 1. 상태 정의

- **작업기간 전(pre_start)**: 작업 시작 전 상태
- **수정 범위**: 작업기간 시작/종료 날짜 모두 수정 가능
- **세부 내용**: 위험요인/개선대책 등 상세 항목 수정 가능
- **결재라인**: 수정 가능

---

## 2. 페이지 구조

```
InitialAssessmentDetailPage
├─ AssessmentDetailHeader
├─ AssessmentBasicInfo
├─ ApprovalLineEditable
├─ RiskFactorCardList
├─ ApproverEditModal
└─ DeleteConfirmModal
```

---

## 3. 헤더 동작

- 상태 뱃지: `작업기간 전`
- 버튼 노출:
  - 출력 (PDF/Excel)
  - 삭제
  - 편집(수정) 버튼 표시

---

## 4. 작업기간 입력 제약

- 시작일/종료일 모두 활성화
- 유효성:
  - 시작일 <= 종료일
  - 종료일이 시작일보다 앞설 경우 경고 메시지

---

## 5. 결재라인 편집

- 결재라인은 **직접 편집하는 것이 아니라 기존 결재라인을 선택**하는 방식이다.
- 작업기간 전/중에서 **다른 결재라인 선택 가능**하며, 선택 시 결재자 목록이 교체된다.
- 결재라인에는 **결재자별 전자서명 영역**이 필요하다.
- 전자서명은 최초 1회 저장된 서명을 클릭해 적용한다.
- 결재라인 변경 시 기존 서명 데이터는 **모두 초기화**된다.
- 결재라인 변경 전 경고 메시지 필수: "기존 서명 정보는 저장되지 않으며 삭제됩니다. 계속하시겠습니까?"

---

## 6. 위험요인/개선대책 편집

- 위험요인 텍스트 수정 가능
- 개선대책 텍스트 수정 가능
- 위험도 선택 가능

---

## 7. 상태 전환

- 작업 시작일이 오늘 날짜를 지나면 `작업기간 중` 상태로 전환
- 종료일이 지나면 `작업종료` 상태로 전환

---

## 8. 체크리스트

- [ ] 작업기간 전 상태 뱃지 표시
- [ ] 작업기간 시작/종료 수정 가능
- [ ] 결재라인 수정 가능
- [ ] 위험요인/개선대책 수정 가능
- [ ] 작업종료 상태와 UI 분기 확인

---

## 9. 참고 문서

- docs/ui-specs/pc/specs/2026-01-16-최초위험성평가상세보기-작업기간중-구현.md
- docs/ui-specs/pc/specs/2026-01-16-최초위험성평가상세보기-작업종료-구현.md

---


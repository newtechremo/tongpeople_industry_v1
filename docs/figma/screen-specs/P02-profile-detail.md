# P02 프로필 상세 (Profile Detail)

> **화면 ID**: P02
> **파일명**: `P02-profile-detail.md`
> **상태**: Phase 1 MVP

---

## 1. 기본 정보

| 항목 | 내용 |
|------|------|
| **화면명** | 프로필 상세 |
| **영문명** | Profile Detail |
| **접근 조건** | 로그인 상태 (ACTIVE) |
| **이전 화면** | P01 마이페이지 |

---

## 2. 레이아웃 구조

```
┌─────────────────────────────────────┐
│  ←       내 정보                    │  ← 헤더
├─────────────────────────────────────┤
│                                     │
│         ┌────────────┐              │
│         │    👤      │              │  ← 아바타
│         │            │              │
│         └────────────┘              │
│                                     │
│            홍길동                    │  ← 이름
│         010-1234-5678               │  ← 연락처
│                                     │
│  ┌─────────────────────────────┐   │
│  │  기본 정보                    │   │
│  │  ─────────────────────────── │   │
│  │  이름         홍길동          │   │
│  │  연락처       010-1234-5678  │   │
│  │  생년월일     1985.03.15     │   │
│  │  성별         남성            │   │
│  │  국적         대한민국         │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │  소속 정보                    │   │
│  │  ─────────────────────────── │   │
│  │  현장         대전공장         │   │
│  │  소속팀       (주)정이앤지     │   │
│  │  직책         전기기사         │   │
│  │  권한         팀원            │   │
│  │  가입일       2026.01.02     │   │
│  └─────────────────────────────┘   │
│                                     │
│  ┌─────────────────────────────┐   │
│  │       정보 수정 문의          │   │
│  └─────────────────────────────┘   │
│                                     │
└─────────────────────────────────────┘
```

---

## 3. UI 컴포넌트

### 3.1 헤더

```
┌─────────────────────────────────────┐
│  ←       내 정보                    │
└─────────────────────────────────────┘

타입: 타이틀 헤더
뒤로가기: P01 마이페이지
제목: "내 정보", 18px, Bold, Slate 800
```

### 3.2 프로필 헤더 영역

```
         ┌────────────┐
         │    👤      │
         │  (아바타)   │
         └────────────┘

            홍길동
         010-1234-5678

아바타: 96x96, Gray 100 배경, rounded-full
아바타 아이콘: User, 48px, Slate 400
이름: 24px, Bold, Slate 800
연락처: 16px, Regular, Slate 500
정렬: 중앙
패딩: 상하 24px
```

### 3.3 기본 정보 카드

```
┌─────────────────────────────────────┐
│  기본 정보                          │
│  ─────────────────────────────────  │
│                                     │
│  이름              홍길동            │
│  연락처            010-1234-5678    │
│  생년월일          1985.03.15       │
│  성별              남성              │
│  국적              대한민국          │
│                                     │
└─────────────────────────────────────┘

배경: White
테두리: Gray 200
모서리: 16px
패딩: 20px

섹션 제목: 14px, Bold, Slate 500
구분선: Gray 200
라벨: 14px, Regular, Slate 500
값: 14px, Medium, Slate 800
행 간격: 16px
```

### 3.4 소속 정보 카드

```
┌─────────────────────────────────────┐
│  소속 정보                          │
│  ─────────────────────────────────  │
│                                     │
│  현장              대전공장          │
│  소속팀            (주)정이앤지       │
│  직책              전기기사          │
│  권한              팀원              │
│  가입일            2026.01.02       │
│                                     │
└─────────────────────────────────────┘
```

### 3.5 권한 표시

| 권한 | 표시명 | 색상 |
|------|--------|------|
| WORKER | 팀원 | Slate 800 |
| TEAM_ADMIN | 팀 관리자 | Orange 600 |
| SITE_ADMIN | 현장 관리자 | Blue 600 |
| SUPER_ADMIN | 최고 관리자 | Purple 600 |

### 3.6 정보 수정 문의 버튼

```
┌─────────────────────────────────────┐
│        정보 수정 문의                │
└─────────────────────────────────────┘

타입: Secondary (테두리)
배경: 투명
테두리: Gray 300
텍스트: Slate 600, 16px, Medium
크기: 전체 너비 - 32px 양쪽 패딩
높이: 48px
모서리: 12px
```

---

## 4. 정보 항목 상세

### 4.1 기본 정보

| 항목 | 필드명 | 마스킹 |
|------|--------|--------|
| 이름 | name | 없음 |
| 연락처 | phoneNumber | 중간 4자리 (010-****-5678) |
| 생년월일 | birthDate | 없음 |
| 성별 | gender | 없음 |
| 국적 | nationality | 없음 |

### 4.2 소속 정보

| 항목 | 필드명 | 비고 |
|------|--------|------|
| 현장 | siteName | 소속 현장 |
| 소속팀 | teamName | 협력업체명 |
| 직책 | jobTitle | 근로자 직책 |
| 권한 | role | 시스템 권한 |
| 가입일 | createdAt | 가입 승인일 |

---

## 5. 상태별 UI

### 5.1 정상 상태

```
- 모든 정보 표시
- 스크롤 가능
```

### 5.2 로딩 상태

```
- 프로필 헤더: 스켈레톤
- 정보 카드: 스켈레톤 행
```

### 5.3 연락처 마스킹 해제 (선택적)

```
- 연락처 터치 시 전체 표시
- 또는 "전체보기" 버튼
```

---

## 6. 인터랙션

### 6.1 정보 수정 문의 버튼

```
1. 터치 시 옵션 선택:
   - 전화 문의: 1588-0000
   - 이메일 문의: support@example.com
2. 또는 문의 안내 팝업 표시
```

### 6.2 문의 옵션 팝업

```
┌─────────────────────────────────────┐
│                                     │
│         정보 수정 문의               │
│                                     │
│   개인정보 변경은 관리자에게          │
│   문의해주세요.                      │
│                                     │
│   📞 전화: 1588-0000                │
│   ✉️ 이메일: support@example.com    │
│                                     │
│          [ 확인 ]                   │
│                                     │
└─────────────────────────────────────┘
```

### 6.3 연락처 터치 (선택적)

```
- 터치 시 전화 앱으로 연결
- 또는 클립보드 복사 + 토스트 "복사되었습니다"
```

---

## 7. API 연동

### Request

```typescript
GET /functions/v1/worker-me
```

### Response

```typescript
{
  "id": "uuid",
  "name": "홍길동",
  "phoneNumber": "010-1234-5678",
  "birthDate": "1985-03-15",
  "gender": "M",
  "nationality": "KR",
  "site": {
    "id": "uuid",
    "name": "대전공장"
  },
  "team": {
    "id": "uuid",
    "name": "(주)정이앤지"
  },
  "jobTitle": "전기기사",
  "role": "WORKER",
  "createdAt": "2026-01-02T10:00:00+09:00"
}
```

---

## 8. 데이터

```typescript
interface ProfileDetailData {
  // 기본 정보
  name: string;
  phoneNumber: string;
  birthDate: string;
  gender: 'M' | 'F';
  nationality: string;

  // 소속 정보
  siteName: string;
  teamName: string;
  jobTitle: string;
  role: UserRole;
  createdAt: string;
}

// 표시용 변환
const genderDisplay = {
  M: '남성',
  F: '여성',
};

const nationalityDisplay = {
  KR: '대한민국',
  CN: '중국',
  VN: '베트남',
  // ...
};

const roleDisplay = {
  WORKER: '팀원',
  TEAM_ADMIN: '팀 관리자',
  SITE_ADMIN: '현장 관리자',
  SUPER_ADMIN: '최고 관리자',
};
```

---

## 9. 디자인 토큰

```tsx
// 프로필 헤더
const profileHeader = {
  avatarSize: 96,
  avatarIconSize: 48,
  nameFont: '24px',
  nameFontWeight: 'bold',
  phoneFont: '16px',
  paddingVertical: 24,
};

// 정보 카드
const infoCard = {
  backgroundColor: 'white',
  borderRadius: 16,
  borderWidth: 1,
  borderColor: '#E5E7EB', // gray-200
  padding: 20,
};

// 정보 행
const infoRow = {
  height: 'auto',
  gap: 16,
  labelColor: '#64748B', // slate-500
  valueColor: '#1E293B', // slate-800
  labelFont: '14px',
  valueFont: '14px',
};

// 권한 색상
const roleColors = {
  WORKER: '#1E293B', // slate-800
  TEAM_ADMIN: '#EA580C', // orange-600
  SITE_ADMIN: '#2563EB', // blue-600
  SUPER_ADMIN: '#9333EA', // purple-600
};
```

---

## 10. 접근성

```
- 연락처 마스킹으로 개인정보 보호
- 충분한 터치 영역
- 스크린 리더 지원
- 색상 대비 준수
```

---

## 11. Figma 프레임 목록

| 프레임명 | 설명 |
|----------|------|
| `P02 프로필상세 / Default` | 기본 상태 (일반 근로자) |
| `P02 프로필상세 / TeamAdmin` | 팀 관리자 권한 표시 |
| `P02 프로필상세 / Loading` | 로딩 상태 |
| `P02 프로필상세 / ContactPopup` | 문의 옵션 팝업 |

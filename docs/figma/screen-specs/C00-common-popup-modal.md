# 공통 컴포넌트: 팝업 & 모달 (Popup & Modal)

> **파일명**: `C00-common-popup-modal.md`
> **상태**: Phase 1 MVP
> **용도**: 앱 전체에서 사용되는 팝업/모달 공통 스펙

---

## 1. 개요

### 1.1 용어 정의

| 용어 | 설명 | 사용 예 |
|------|------|---------|
| **Alert Popup** | 단순 확인/취소 다이얼로그 | 출근 확인, 로그아웃 확인 |
| **Warning Popup** | 경고 아이콘 포함 다이얼로그 | 퇴근 확인, 회원 탈퇴 |
| **Info Popup** | 정보 안내용 다이얼로그 | 문의 안내 |
| **Bottom Sheet** | 하단에서 올라오는 시트 | 옵션 선택 |
| **Full Modal** | 전체 화면 모달 | 약관 상세 |

---

## 2. Alert Popup (기본 확인 팝업)

### 2.1 레이아웃 구조

```
┌─────────────────────────────────────┐
│                                     │
│         [제목 텍스트]                │  ← 20px, Bold
│                                     │
│      [설명 텍스트 (선택)]            │  ← 14px, Regular
│                                     │
│   ┌─────────┐    ┌─────────┐       │
│   │  취소   │    │  확인   │       │  ← 버튼 영역
│   └─────────┘    └─────────┘       │
│                                     │
└─────────────────────────────────────┘
```

### 2.2 크기 및 스타일

```
너비: 화면 너비 - 48px (좌우 24px 여백)
      최대 320px
최소 높이: 160px
모서리: 16px (rounded-2xl)
배경: White
그림자: shadow-xl
  - iOS: 0 10px 25px rgba(0,0,0,0.15)
  - Android: elevation 8
```

### 2.3 내부 패딩

```
상단 패딩: 24px
좌우 패딩: 24px
하단 패딩: 20px
제목-설명 간격: 8px
설명-버튼 간격: 24px
버튼 간 간격: 12px
```

### 2.4 타이포그래피

| 요소 | 크기 | 굵기 | 색상 |
|------|------|------|------|
| 제목 | 18px | Bold | Slate 800 |
| 설명 | 14px | Regular | Slate 500 |

### 2.5 버튼 스타일

```
┌─────────────────────────────────────┐
│                                     │
│   ┌───────────┐  ┌───────────┐     │
│   │   취소    │  │   확인    │     │
│   └───────────┘  └───────────┘     │
│                                     │
└─────────────────────────────────────┘

버튼 배치: 1:1 비율, 가로 균등 분할
버튼 높이: 48px
버튼 모서리: 10px
버튼 간격: 12px

취소 버튼 (Secondary):
  - 배경: Gray 100
  - 텍스트: Slate 600, 16px, SemiBold

확인 버튼 (Primary):
  - 배경: Orange Gradient (from-orange-500 to-orange-600)
  - 텍스트: White, 16px, SemiBold
```

### 2.6 오버레이 배경

```
배경색: rgba(0, 0, 0, 0.5)
터치 시: 팝업 닫기 (선택적, 기본 비활성)
```

---

## 3. Warning Popup (경고 팝업)

### 3.1 레이아웃 구조

```
┌─────────────────────────────────────┐
│                                     │
│              ⚠️                     │  ← 경고 아이콘
│                                     │
│         [제목 텍스트]                │
│                                     │
│      [경고 설명 텍스트]              │
│      [추가 안내 (선택)]              │
│                                     │
│   ┌─────────┐    ┌─────────┐       │
│   │  취소   │    │  확인   │       │
│   └─────────┘    └─────────┘       │
│                                     │
└─────────────────────────────────────┘
```

### 3.2 아이콘 스타일

```
아이콘: AlertTriangle (Lucide)
크기: 48x48
색상: Amber 500 (#F59E0B)
배경: Amber 50 원형 (72x72)
아이콘-제목 간격: 16px
```

### 3.3 확인 버튼 변형

| 유형 | 버튼 색상 | 사용 예 |
|------|----------|---------|
| 일반 경고 | Orange Gradient | 퇴근 확인 |
| 위험 액션 | Red Gradient | 회원 탈퇴 |
| 정보성 | Blue Gradient | 안내 확인 |

### 3.4 위험 액션 버튼

```
확인 버튼 (Danger):
  - 배경: Red Gradient (from-red-500 to-red-600)
  - 텍스트: White, 16px, SemiBold
  - 사용: 회원 탈퇴, 데이터 삭제 등
```

---

## 4. Info Popup (정보 팝업)

### 4.1 레이아웃 구조

```
┌─────────────────────────────────────┐
│                                     │
│              ℹ️                     │  ← 정보 아이콘
│                                     │
│         [제목 텍스트]                │
│                                     │
│      [정보 내용]                     │
│      [추가 정보]                     │
│                                     │
│        ┌─────────────┐              │
│        │    확인     │              │  ← 단일 버튼
│        └─────────────┘              │
│                                     │
└─────────────────────────────────────┘
```

### 4.2 아이콘 스타일

```
아이콘: Info (Lucide)
크기: 48x48
색상: Blue 500 (#3B82F6)
배경: Blue 50 원형 (72x72)
```

### 4.3 단일 버튼 스타일

```
버튼 너비: 100% (좌우 패딩 제외)
버튼 높이: 48px
배경: Orange Gradient
텍스트: White, 16px, SemiBold
```

---

## 5. Bottom Sheet (하단 시트)

### 5.1 레이아웃 구조

```
┌─────────────────────────────────────┐
│                                     │
│             [오버레이]               │
│                                     │
│                                     │
├─────────────────────────────────────┤
│            ────────                 │  ← 드래그 핸들
│                                     │
│         [시트 제목]                  │
│                                     │
│   ┌─────────────────────────────┐  │
│   │  옵션 1                      │  │
│   ├─────────────────────────────┤  │
│   │  옵션 2                      │  │
│   ├─────────────────────────────┤  │
│   │  옵션 3                      │  │
│   └─────────────────────────────┘  │
│                                     │
│        ┌─────────────┐              │
│        │    취소     │              │
│        └─────────────┘              │
│                                     │
└─────────────────────────────────────┘
```

### 5.2 크기 및 스타일

```
너비: 화면 전체 너비
최대 높이: 화면의 80%
상단 모서리: 20px (rounded-t-2xl)
배경: White
드래그 핸들: 40x4, Gray 300, 중앙 정렬
```

### 5.3 옵션 행 스타일

```
행 높이: 56px
좌우 패딩: 20px
텍스트: 16px, Regular, Slate 800
구분선: Gray 100
터치 피드백: Gray 50 배경
```

### 5.4 애니메이션

```
진입: 하단에서 위로 슬라이드 (300ms, ease-out)
퇴장: 위에서 하단으로 슬라이드 (200ms, ease-in)
드래그: 손가락 따라 이동, 50% 이상 드래그 시 닫힘
```

---

## 6. Full Modal (전체 화면 모달)

### 6.1 레이아웃 구조

```
┌─────────────────────────────────────┐
│  ✕       [모달 제목]                 │  ← 헤더
├─────────────────────────────────────┤
│                                     │
│                                     │
│         [모달 콘텐츠]                │  ← 스크롤 가능
│                                     │
│                                     │
│                                     │
├─────────────────────────────────────┤
│        ┌─────────────┐              │
│        │    확인     │              │  ← 하단 버튼 (선택)
│        └─────────────┘              │
└─────────────────────────────────────┘
```

### 6.2 헤더 스타일

```
높이: 56px
닫기 버튼: X 아이콘, 24px, Slate 600, 좌측 16px
제목: 18px, Bold, Slate 800, 중앙 정렬
배경: White
하단 테두리: Gray 200
```

### 6.3 사용 예

- 약관 상세 보기
- 개인정보처리방침
- 오픈소스 라이선스

---

## 7. 애니메이션 스펙

### 7.1 팝업 진입

```typescript
const popupEnter = {
  overlay: {
    opacity: [0, 1],
    duration: 200,
  },
  content: {
    scale: [0.9, 1],
    opacity: [0, 1],
    duration: 250,
    easing: 'ease-out',
  },
};
```

### 7.2 팝업 퇴장

```typescript
const popupExit = {
  overlay: {
    opacity: [1, 0],
    duration: 150,
  },
  content: {
    scale: [1, 0.95],
    opacity: [1, 0],
    duration: 150,
    easing: 'ease-in',
  },
};
```

### 7.3 Bottom Sheet 애니메이션

```typescript
const bottomSheetAnimation = {
  enter: {
    translateY: ['100%', '0%'],
    duration: 300,
    easing: 'ease-out',
  },
  exit: {
    translateY: ['0%', '100%'],
    duration: 200,
    easing: 'ease-in',
  },
};
```

---

## 8. 디자인 토큰

```tsx
// 팝업 기본
const popup = {
  width: 'calc(100% - 48px)',
  maxWidth: 320,
  borderRadius: 16,
  backgroundColor: 'white',
  shadowIOS: '0 10px 25px rgba(0,0,0,0.15)',
  elevationAndroid: 8,
};

// 오버레이
const overlay = {
  backgroundColor: 'rgba(0, 0, 0, 0.5)',
};

// 내부 패딩
const popupPadding = {
  top: 24,
  horizontal: 24,
  bottom: 20,
};

// 버튼
const popupButton = {
  height: 48,
  borderRadius: 10,
  gap: 12,
  fontSize: 16,
  fontWeight: '600',
};

// 버튼 색상
const buttonColors = {
  cancel: {
    background: '#F3F4F6', // gray-100
    text: '#475569', // slate-600
  },
  confirm: {
    background: 'linear-gradient(to right, #F97316, #EA580C)',
    text: '#FFFFFF',
  },
  danger: {
    background: 'linear-gradient(to right, #EF4444, #DC2626)',
    text: '#FFFFFF',
  },
};

// 아이콘 (경고/정보)
const popupIcon = {
  size: 48,
  containerSize: 72,
  amber: {
    icon: '#F59E0B', // amber-500
    background: '#FFFBEB', // amber-50
  },
  red: {
    icon: '#EF4444', // red-500
    background: '#FEF2F2', // red-50
  },
  blue: {
    icon: '#3B82F6', // blue-500
    background: '#EFF6FF', // blue-50
  },
  green: {
    icon: '#22C55E', // green-500
    background: '#F0FDF4', // green-50
  },
};
```

---

## 9. 화면별 팝업 목록

### 9.1 인증/가입 플로우

| 화면 | 팝업명 | 유형 | 버튼 |
|------|--------|------|------|
| A05 정보입력 | 데이터 충돌 확인 | Warning | 취소 / 확인 |
| A05 정보입력 | **뒤로가기 경고** | Warning | 취소 / 나가기 |
| A06 약관동의 | 약관 상세 | Full Modal | 닫기 |
| A06 약관동의 | **뒤로가기 경고** | Warning | 취소 / 나가기 |
| A07 전자서명 | 다시 쓰기 확인 | Alert | 취소 / 확인 |
| A07 전자서명 | **뒤로가기 경고** | Warning | 취소 / 나가기 |
| A08 승인대기 | 반려 안내 | Warning | 확인 |

### 9.2 메인 플로우

| 화면 | 팝업명 | 유형 | 버튼 |
|------|--------|------|------|
| M01 홈 출근전 | 출근 확인 | Alert | 취소 / 확인 |
| M02 홈 근무중 | 퇴근 확인 | Warning | 취소 / 확인 |

### 9.3 마이페이지 플로우

| 화면 | 팝업명 | 유형 | 버튼 |
|------|--------|------|------|
| P01 마이페이지 | 로그아웃 확인 | Alert | 취소 / 확인 |
| P02 프로필상세 | 문의 안내 | Info | 확인 |
| P03 설정 | 로그아웃 확인 | Alert | 취소 / 확인 |
| P03 설정 | 회원 탈퇴 경고 | Warning (Danger) | 취소 / 탈퇴하기 |

---

## 10. 상세 팝업 스펙

### 10.1 출근 확인 팝업

```
┌─────────────────────────────────────┐
│                                     │
│        출근하시겠습니까?             │
│                                     │
│        현재 시간: 09:00             │
│                                     │
│   ┌─────────┐    ┌─────────┐       │
│   │  취소   │    │  확인   │       │
│   └─────────┘    └─────────┘       │
│                                     │
└─────────────────────────────────────┘

유형: Alert Popup
제목: "출근하시겠습니까?"
설명: "현재 시간: {HH:mm}" (동적)
취소: Gray (Secondary)
확인: Orange Gradient (Primary)
```

### 10.2 퇴근 확인 팝업

```
┌─────────────────────────────────────┐
│                                     │
│              ⚠️                     │
│                                     │
│        퇴근하시겠습니까?             │
│                                     │
│   퇴근 후 오늘은 재출근이             │
│   불가합니다.                        │
│                                     │
│   ┌─────────┐    ┌─────────┐       │
│   │  취소   │    │  확인   │       │
│   └─────────┘    └─────────┘       │
│                                     │
└─────────────────────────────────────┘

유형: Warning Popup
아이콘: AlertTriangle, Amber 500
제목: "퇴근하시겠습니까?"
설명: "퇴근 후 오늘은 재출근이 불가합니다."
취소: Gray (Secondary)
확인: Orange Gradient (Primary)
```

### 10.3 로그아웃 확인 팝업

```
┌─────────────────────────────────────┐
│                                     │
│      로그아웃 하시겠습니까?          │
│                                     │
│   로그아웃 후 다시 로그인해야         │
│   서비스를 이용할 수 있습니다.        │
│                                     │
│   ┌─────────┐    ┌─────────┐       │
│   │  취소   │    │  확인   │       │
│   └─────────┘    └─────────┘       │
│                                     │
└─────────────────────────────────────┘

유형: Alert Popup
제목: "로그아웃 하시겠습니까?"
설명: "로그아웃 후 다시 로그인해야 서비스를 이용할 수 있습니다."
취소: Gray (Secondary)
확인: Orange Gradient (Primary)
```

### 10.4 회원 탈퇴 경고 팝업

```
┌─────────────────────────────────────┐
│                                     │
│              ⚠️                     │
│                                     │
│          회원 탈퇴                   │
│                                     │
│   회원 탈퇴 시 모든 데이터가          │
│   삭제되며 복구할 수 없습니다.        │
│                                     │
│   정말 탈퇴하시겠습니까?             │
│                                     │
│   ┌─────────┐    ┌─────────┐       │
│   │  취소   │    │ 탈퇴하기 │       │
│   └─────────┘    └─────────┘       │
│                                     │
└─────────────────────────────────────┘

유형: Warning Popup (Danger)
아이콘: AlertTriangle, Amber 500
제목: "회원 탈퇴"
설명: "회원 탈퇴 시 모든 데이터가 삭제되며 복구할 수 없습니다.\n정말 탈퇴하시겠습니까?"
취소: Gray (Secondary)
확인: Red Gradient (Danger) - "탈퇴하기"
```

### 10.5 데이터 충돌 확인 팝업

```
┌─────────────────────────────────────┐
│                                     │
│              ⚠️                     │
│                                     │
│      정보가 일치하지 않습니다         │
│                                     │
│   관리자 등록 정보와 다릅니다.        │
│   입력한 정보로 가입하시겠습니까?     │
│                                     │
│   ┌─────────┐    ┌─────────┐       │
│   │  취소   │    │  확인   │       │
│   └─────────┘    └─────────┘       │
│                                     │
└─────────────────────────────────────┘

유형: Warning Popup
아이콘: AlertTriangle, Amber 500
제목: "정보가 일치하지 않습니다"
설명: "관리자 등록 정보와 다릅니다.\n입력한 정보로 가입하시겠습니까?"
취소: Gray (Secondary)
확인: Orange Gradient (Primary)
```

### 10.6 반려 안내 팝업

```
┌─────────────────────────────────────┐
│                                     │
│              ✕                      │
│                                     │
│      가입이 반려되었습니다            │
│                                     │
│   사유: 정보가 일치하지 않습니다      │
│                                     │
│   관리자에게 문의해주세요            │
│                                     │
│        ┌─────────────┐              │
│        │    확인     │              │
│        └─────────────┘              │
│                                     │
└─────────────────────────────────────┘

유형: Warning Popup (Red Icon)
아이콘: XCircle, Red 500
제목: "가입이 반려되었습니다"
설명: "사유: {반려사유}\n관리자에게 문의해주세요"
확인: Orange Gradient (Primary) - 단일 버튼
동작: 앱 초기화, A01로 이동
```

### 10.7 문의 안내 팝업

```
┌─────────────────────────────────────┐
│                                     │
│              ℹ️                     │
│                                     │
│         정보 수정 문의               │
│                                     │
│   개인정보 변경은 관리자에게          │
│   문의해주세요.                      │
│                                     │
│   📞 전화: 1588-0000                │
│   ✉️ 이메일: support@example.com    │
│                                     │
│        ┌─────────────┐              │
│        │    확인     │              │
│        └─────────────┘              │
│                                     │
└─────────────────────────────────────┘

유형: Info Popup
아이콘: Info, Blue 500
제목: "정보 수정 문의"
내용: 연락처 정보 (터치 시 연결)
확인: Orange Gradient (Primary) - 단일 버튼
```

### 10.8 약관 상세 모달

```
┌─────────────────────────────────────┐
│  ✕       서비스 이용약관             │
├─────────────────────────────────────┤
│                                     │
│  제1조 (목적)                        │
│  이 약관은 주식회사 OOO(이하         │
│  "회사"라 합니다)가 제공하는         │
│  서비스의 이용과 관련하여...         │
│                                     │
│  제2조 (정의)                        │
│  ① "서비스"라 함은...               │
│  ② "이용자"라 함은...               │
│                                     │
│  ... (스크롤)                        │
│                                     │
├─────────────────────────────────────┤
│        ┌─────────────┐              │
│        │    확인     │              │
│        └─────────────┘              │
└─────────────────────────────────────┘

유형: Full Modal
제목: 약관명 (동적)
콘텐츠: 약관 전문 (스크롤)
확인: Orange Gradient (Primary)
동작: 모달 닫기
```

### 10.9 정보입력 뒤로가기 경고 팝업

```
┌─────────────────────────────────────┐
│                                     │
│              ⚠️                     │
│                                     │
│    정보 입력을 중단하시겠습니까?      │
│                                     │
│    입력한 정보가 저장되지 않습니다.   │
│                                     │
│   ┌─────────┐    ┌─────────┐       │
│   │  취소   │    │  나가기  │       │
│   └─────────┘    └─────────┘       │
│                                     │
└─────────────────────────────────────┘

유형: Warning Popup
아이콘: AlertTriangle, Amber 500
제목: "정보 입력을 중단하시겠습니까?"
설명: "입력한 정보가 저장되지 않습니다."
취소: Gray (Secondary) - 팝업 닫기
나가기: Orange Gradient (Primary) - 이전 화면으로 이동
트리거: A05 화면에서 뒤로가기 시 (입력값이 있는 경우)
```

### 10.10 약관동의 뒤로가기 경고 팝업

```
┌─────────────────────────────────────┐
│                                     │
│              ⚠️                     │
│                                     │
│    약관 동의를 중단하시겠습니까?      │
│                                     │
│    동의 내용이 저장되지 않습니다.     │
│                                     │
│   ┌─────────┐    ┌─────────┐       │
│   │  취소   │    │  나가기  │       │
│   └─────────┘    └─────────┘       │
│                                     │
└─────────────────────────────────────┘

유형: Warning Popup
아이콘: AlertTriangle, Amber 500
제목: "약관 동의를 중단하시겠습니까?"
설명: "동의 내용이 저장되지 않습니다."
취소: Gray (Secondary) - 팝업 닫기
나가기: Orange Gradient (Primary) - 이전 화면으로 이동
트리거: A06 화면에서 뒤로가기 시 (하나 이상 동의한 경우)
```

### 10.11 전자서명 뒤로가기 경고 팝업

```
┌─────────────────────────────────────┐
│                                     │
│              ⚠️                     │
│                                     │
│    서명 입력을 중단하시겠습니까?      │
│                                     │
│    작성한 서명이 저장되지 않습니다.   │
│                                     │
│   ┌─────────┐    ┌─────────┐       │
│   │  취소   │    │  나가기  │       │
│   └─────────┘    └─────────┘       │
│                                     │
└─────────────────────────────────────┘

유형: Warning Popup
아이콘: AlertTriangle, Amber 500
제목: "서명 입력을 중단하시겠습니까?"
설명: "작성한 서명이 저장되지 않습니다."
취소: Gray (Secondary) - 팝업 닫기
나가기: Orange Gradient (Primary) - 이전 화면으로 이동
트리거: A07 화면에서 뒤로가기 시 (서명이 입력된 경우)
```

---

## 11. Figma 프레임 목록

| 프레임명 | 설명 |
|----------|------|
| `Common / Popup / Alert` | 기본 확인 팝업 |
| `Common / Popup / Warning` | 경고 팝업 |
| `Common / Popup / Warning Danger` | 위험 경고 팝업 (빨간 버튼) |
| `Common / Popup / Warning BackExit` | 뒤로가기 경고 팝업 |
| `Common / Popup / Info` | 정보 팝업 |
| `Common / Popup / Error` | 에러 팝업 (빨간 아이콘) |
| `Common / Bottom Sheet` | 하단 시트 |
| `Common / Full Modal` | 전체 화면 모달 |

---

## 12. React Native 컴포넌트 구조 (참고)

```typescript
// 팝업 Props 타입
interface PopupProps {
  visible: boolean;
  type: 'alert' | 'warning' | 'info' | 'error';
  title: string;
  description?: string;
  icon?: 'warning' | 'info' | 'error' | 'success';
  cancelText?: string;
  confirmText?: string;
  confirmVariant?: 'primary' | 'danger';
  onCancel?: () => void;
  onConfirm: () => void;
  dismissOnOverlay?: boolean;
}

// 사용 예
<Popup
  visible={showLogout}
  type="alert"
  title="로그아웃 하시겠습니까?"
  description="로그아웃 후 다시 로그인해야 서비스를 이용할 수 있습니다."
  cancelText="취소"
  confirmText="확인"
  onCancel={() => setShowLogout(false)}
  onConfirm={handleLogout}
/>
```

---

## 13. 접근성 가이드

```
- 팝업 열림 시 포커스 이동
- 스크린 리더: 제목 → 설명 → 버튼 순서로 읽기
- 키보드: Tab으로 버튼 이동, Enter로 실행
- 최소 터치 영역: 44x44
- 색상 대비: WCAG 2.1 AA 준수
```

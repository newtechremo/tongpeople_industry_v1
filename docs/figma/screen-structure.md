# 산업현장통 모바일 앱 - 화면 구조

> **버전**: 1.0
> **작성일**: 2026-01-13
> **용도**: Figma UI 디자인 가이드

---

## 1. 전체 화면 목록 (18개)

### 1.1 인증/가입 플로우 (8개 화면)

| ID | 화면명 (한글) | 화면명 (영문) | 파일명 |
|----|--------------|--------------|--------|
| A01 | 회사코드 입력 | Company Code | `01-company-code.md` |
| A02 | 현장 선택 | Site Select | `02-site-select.md` |
| A03 | 전화번호 입력 | Phone Input | `03-phone-input.md` |
| A04 | 인증번호 입력 | Verify Code | `04-verify-code.md` |
| A05 | 정보 입력 | Info Input | `05-info-input.md` |
| A06 | 약관 동의 | Terms Agreement | `06-terms-agreement.md` |
| A07 | 전자서명 | Signature | `07-signature.md` |
| A08 | 승인 대기 | Waiting Approval | `08-waiting-approval.md` |

### 1.2 메인 플로우 (4개 화면)

| ID | 화면명 (한글) | 화면명 (영문) | 파일명 |
|----|--------------|--------------|--------|
| M01 | 홈 - 출근 전 | Home Before Work | `09-home-before-work.md` |
| M02 | 홈 - 근무 중 | Home Working | `10-home-working.md` |
| M03 | 홈 - 퇴근 완료 | Home After Work | `11-home-after-work.md` |
| M04 | 출퇴근 기록 | Attendance History | `12-attendance-history.md` |

### 1.3 QR 스캔 플로우 - 팀관리자 전용 (3개 화면)

| ID | 화면명 (한글) | 화면명 (영문) | 파일명 |
|----|--------------|--------------|--------|
| Q01 | QR 스캔 | QR Scan | `13-qr-scan.md` |
| Q02 | 스캔 성공 | Scan Success | `14-scan-success.md` |
| Q03 | 스캔 실패 | Scan Failure | `15-scan-failure.md` |

### 1.4 마이페이지 (3개 화면)

| ID | 화면명 (한글) | 화면명 (영문) | 파일명 |
|----|--------------|--------------|--------|
| P01 | 마이페이지 | My Page | `16-mypage.md` |
| P02 | 내 정보 상세 | Profile Detail | `17-profile-detail.md` |
| P03 | 설정 | Settings | `18-settings.md` |

---

## 2. 사용자 역할별 접근 화면

### 2.1 역할 정의

| 역할 | 코드 | 설명 |
|------|------|------|
| 일반 근로자 | `WORKER` | QR 생성, 본인 출퇴근 확인 |
| 팀 관리자 | `TEAM_ADMIN` | 팀원 QR 스캔, 출퇴근 처리 |

### 2.2 역할별 화면 접근

| 화면 그룹 | WORKER | TEAM_ADMIN |
|----------|:------:|:----------:|
| 인증/가입 (A01-A08) | O | O |
| 홈 - 출근/퇴근 (M01-M03) | O | O |
| 출퇴근 기록 (M04) | O | O |
| **QR 스캔 (Q01-Q03)** | **X** | **O** |
| 마이페이지 (P01-P03) | O | O |

---

## 3. 상태별 화면 분기

### 3.1 근로자 상태 (WorkerStatus)

```typescript
type WorkerStatus = 'PENDING' | 'REQUESTED' | 'ACTIVE' | 'INACTIVE' | 'BLOCKED';
```

### 3.2 상태별 진입 화면

```
앱 실행
    │
    ▼
┌─────────────────┐
│ 로그인 상태 확인  │
└────────┬────────┘
         │
    ┌────┴────┐
    │         │
로그인됨    미로그인
    │         │
    ▼         ▼
┌─────────┐  ┌─────────────┐
│상태 확인 │  │ A01 회사코드 │
└────┬────┘  └─────────────┘
     │
     ├─── ACTIVE ──────> M01~M03 홈 (근무상태별)
     │
     ├─── REQUESTED ───> A08 승인대기
     │
     ├─── PENDING ─────> A05 정보입력 (선등록 자동완성)
     │
     ├─── INACTIVE ────> 비활성 안내 화면
     │
     └─── BLOCKED ─────> 차단 안내 화면
```

### 3.3 근무 상태 (CommuteStatus)

```typescript
type CommuteStatus = 'WORK_OFF' | 'WORK_ON' | 'WORK_DONE';
```

| 상태 | 한글명 | 표시 화면 | 메인 버튼 |
|------|--------|----------|----------|
| `WORK_OFF` | 출근 전 | M01 | [출근하기] 파란색 |
| `WORK_ON` | 근무 중 | M02 | [퇴근하기] 빨간색 + QR표시 |
| `WORK_DONE` | 퇴근 완료 | M03 | [퇴근 완료] 회색 (비활성) |

---

## 4. 네비게이션 플로우

### 4.1 가입 플로우

```
A01 회사코드 입력
    │
    ├─── 현장 1개 ──────────────────────────┐
    │                                       │
    └─── 현장 2개+ ───> A02 현장 선택 ───────┤
                                            │
                                            ▼
                                   A03 전화번호 입력
                                            │
                                            ▼
                                   A04 인증번호 입력
                                            │
                    ┌───────────────────────┴───────────────────────┐
                    │                                               │
              기존 회원                                          신규 가입
                    │                                               │
                    ▼                                               ▼
              M01~M03 홈                                    A05 정보 입력
                                                                    │
                                                                    ▼
                                                           A06 약관 동의
                                                                    │
                                                                    ▼
                                                           A07 전자서명
                                                                    │
                                    ┌───────────────────────────────┴───────────────────────────────┐
                                    │                                                               │
                              선등록 회원                                                       직접가입 회원
                          (PENDING → ACTIVE)                                              (→ REQUESTED)
                                    │                                                               │
                                    ▼                                                               ▼
                              M01~M03 홈                                                   A08 승인대기
                                                                                                    │
                                                                                              관리자 승인
                                                                                                    │
                                                                                                    ▼
                                                                                              M01~M03 홈
```

### 4.2 메인 탭 네비게이션

```
┌─────────────────────────────────────────────────────────────────┐
│                                                                 │
│                         [화면 콘텐츠]                            │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│     홈          출퇴근기록       QR스캔*        마이페이지        │
│    (M01-03)      (M04)         (Q01)          (P01)            │
│                                                                 │
└─────────────────────────────────────────────────────────────────┘

* QR스캔 탭은 TEAM_ADMIN 역할에게만 표시
```

### 4.3 마이페이지 내부 네비게이션

```
P01 마이페이지
    │
    ├───> P02 내 정보 상세
    │
    ├───> P03 설정
    │         │
    │         ├───> 알림 설정
    │         ├───> 앱 정보
    │         └───> 로그아웃 ───> A01 회사코드 입력
    │
    └───> 고객센터 (외부 링크)
```

---

## 5. 화면 전환 규칙

### 5.1 전환 애니메이션

| 전환 유형 | 애니메이션 | 사용 케이스 |
|----------|----------|-----------|
| Push | 오른쪽에서 슬라이드 | 다음 단계로 진행 |
| Pop | 왼쪽으로 슬라이드 | 이전 단계로 복귀 |
| Modal | 아래에서 슬라이드 업 | 팝업, 약관 상세 |
| Tab | 페이드 또는 없음 | 하단 탭 전환 |

### 5.2 뒤로가기 제한 화면

| 화면 | 뒤로가기 | 이유 |
|------|:-------:|------|
| A08 승인대기 | X | 승인 전까지 다른 화면 접근 차단 |
| M01~M03 홈 | X | 로그인 후 가입 화면 접근 차단 |

---

## 6. 공통 UI 요소

### 6.1 상단 헤더 유형

| 유형 | 구성 | 사용 화면 |
|------|------|----------|
| **로고 헤더** | 로고 (좌측) | M01-M03 홈 |
| **타이틀 헤더** | 뒤로가기 + 제목 | A02-A07, M04, P01-P03 |
| **스캔 헤더** | 뒤로가기 + "QR 스캔" | Q01 |
| **없음** | 헤더 없음 | A01 회사코드 (전체화면) |

### 6.2 하단 탭바

```
┌──────────┬──────────┬──────────┬──────────┐
│   홈      │  출퇴근   │  QR스캔*  │  MY     │
│   🏠      │   📋     │   📷     │   👤    │
└──────────┴──────────┴──────────┴──────────┘

* TEAM_ADMIN만 표시 (3탭 또는 4탭)
```

### 6.3 모달/팝업 유형

| 유형 | 용도 | 예시 |
|------|------|------|
| 확인 팝업 | 사용자 확인 필요 | "출근하시겠습니까?" |
| 알림 토스트 | 결과 알림 | "출근이 완료되었습니다" |
| 바텀시트 | 선택 옵션 | 현장 선택, 국적 선택 |
| 전체 모달 | 상세 내용 | 약관 상세 보기 |

---

## 7. Figma 페이지 구성 권장

### 7.1 페이지 구조

```
📁 산업현장통 모바일 앱
├── 📄 Cover (표지)
├── 📄 Design System (디자인 시스템)
│   ├── Colors
│   ├── Typography
│   ├── Components
│   └── Icons
├── 📄 Auth Flow (인증/가입)
│   ├── A01 회사코드 입력
│   ├── A02 현장 선택
│   ├── A03 전화번호 입력
│   ├── A04 인증번호 입력
│   ├── A05 정보 입력
│   ├── A06 약관 동의
│   ├── A07 전자서명
│   └── A08 승인대기
├── 📄 Main Flow (메인)
│   ├── M01 홈 - 출근전
│   ├── M02 홈 - 근무중
│   ├── M03 홈 - 퇴근완료
│   └── M04 출퇴근기록
├── 📄 QR Scan Flow (QR 스캔)
│   ├── Q01 QR 스캔
│   ├── Q02 스캔 성공
│   └── Q03 스캔 실패
├── 📄 MyPage Flow (마이페이지)
│   ├── P01 마이페이지
│   ├── P02 내 정보 상세
│   └── P03 설정
└── 📄 Prototype (인터랙션 연결)
```

### 7.2 프레임 네이밍 규칙

```
[ID] [화면명] / [상태]

예시:
- A01 회사코드 입력 / Default
- A01 회사코드 입력 / Error
- M02 홈 근무중 / QR 표시
- Q02 스캔 성공 / 출근처리
```

---

## 8. 디바이스 사양

### 8.1 기준 해상도

| 디바이스 | 해상도 | 비고 |
|----------|--------|------|
| **iPhone 14 Pro** | 393 x 852 | 기본 디자인 기준 |
| iPhone SE | 375 x 667 | 최소 지원 |
| Android (중형) | 360 x 800 | 참고용 |

### 8.2 Safe Area

```
┌─────────────────────────┐
│ ▓▓▓ Status Bar ▓▓▓▓▓▓▓ │ ← 47px (Dynamic Island)
├─────────────────────────┤
│                         │
│     Safe Content        │
│                         │
├─────────────────────────┤
│ ▓▓▓▓ Home Bar ▓▓▓▓▓▓▓▓ │ ← 34px
└─────────────────────────┘
```

---

## 9. 관련 문서

| 문서 | 경로 |
|------|------|
| 가입 PRD | `docs/signin/통패스_근로자앱_가입_PRD.md` |
| 디자인 가이드 | `docs/design_guideline_251221.md` |
| 모바일 디자인 시스템 | `docs/figma/design-system-mobile.md` |
| 화면별 상세 스펙 | `docs/figma/screen-specs/*.md` |
